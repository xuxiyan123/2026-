# 第一次笔记

## 嵌入式入门

### 一、嵌入式系统定义

**嵌入式系统**（Embedded System）是**以特定应用为中心**，以计算机技术为基础，软硬件可裁剪，适用于应用系统对功能、可靠性、成本、体积、功耗有严格要求的专用计算机系统。

**核心特点**：

- **专用性强**：为特定任务设计
- **资源受限**：有限的存储、计算能力和功耗预算
- **实时性要求**：许多场景需要确定性的响应时间
- **长期运行**：高可靠性，7×24小时不间断工作
- **直接硬件操作**：通常直接控制硬件，无操作系统或使用轻量级OS

### 二、应用场景全景图

#### 1.  消费电子

- **智能家居**：智能音箱、温控器、安防摄像头
- **穿戴设备**：智能手表、运动手环
- **影音娱乐**：电视盒子、游戏机、无人机

#### 2. 汽车电子

- **车身控制**：车窗、灯光、门锁ECU
- **动力系统**：发动机控制、变速箱管理
- **智能驾驶**：ADAS传感器、车载信息娱乐系统
- **新能源汽车**：BMS（电池管理系统）、VCU（整车控制器）

#### 3. 工业控制

- **PLC**（可编程逻辑控制器）
- **工业机器人**：运动控制、传感器融合
- **仪器仪表**：测量设备、监控系统
- **自动化产线**：马达控制、过程监控

#### 4.  通信网络

- **网络设备**：路由器、交换机、基站
- **物联网终端**：NB-IoT、LoRa模块
- **通信模块**：4G/5G模组

#### 5.  医疗电子

- **便携设备**：血糖仪、电子血压计
- **医疗影像**：便携式超声、X光机控制
- **生命支持**：呼吸机、心脏起搏器

#### 6. 物联网（IoT）

- **感知层**：各类传感器节点
- **边缘计算**：数据预处理和本地决策
- **网关设备**：协议转换和数据汇聚

### 三、MCU方向深度解析

#### 1. MCU是什么？

**MCU**（Microcontroller Unit，微控制器）是**将CPU、内存、I/O接口等集成在单一芯片**上的微型计算机系统，俗称“单片机”。

#### 2. MCU vs 通用处理器

| 特性           | MCU                | 通用CPU（如PC处理器） |
| -------------- | ------------------ | --------------------- |
| **设计目标**   | 控制、实时性       | 通用计算、高性能      |
| **集成度**     | 高（片上集成外设） | 低（需要外部芯片组）  |
| **功耗**       | mW级               | W到数十W              |
| **成本**       | 几元到几十元       | 数百到数千元          |
| **开发复杂度** | 相对较低           | 高                    |

#### 3. MCU核心架构

```
                  MCU架构示例
    +-----------------------------------+
    |          ARM Cortex-M内核          |
    +-----------------------------------+
    | Flash（程序存储） | RAM（运行内存）  |
    +-----------------------------------+
    | GPIO | ADC/DAC | PWM | 定时器      |
    +-----------------------------------+
    | UART | SPI | I2C | CAN | USB      |
    +-----------------------------------+
    | 看门狗 | 复位电路 | 时钟系统          |
    +-----------------------------------+
```

#### 4. 主流MCU厂商阵营

| 阵营         | 代表厂商             | 特点                             |
| ------------ | :------------------- | -------------------------------- |
| **国际巨头** | ST（STM32系列）      | 生态完善，资料丰富，市场占有率高 |
|              | NXP（Kinetis/LPC）   | 汽车领域强势，可靠性高           |
|              | Microchip（PIC/AVR） | 产品线全，8位机起家              |
|              | TI（MSP430）         | 超低功耗领先                     |
| **国内崛起** | 兆易创新（GD32）     | 兼容STM32，性价比高              |
|              | 华大半导体           | 安全MCU领先                      |
|              | 复旦微电子           | 特种应用领域                     |
| **细分领域** | Espressif（ESP32）   | WiFi/BT集成，物联网首选          |
|              | Nordic（nRF52）      | 低功耗蓝牙王者                   |

#### 5. MCU选型维度

- **内核性能**：主频、计算能力（DMIPS）
- **存储资源**：Flash大小、RAM大小
- **外设需求**：需要哪些通信接口、模拟外设
- **功耗要求**：运行/睡眠功耗，电池供电场景
- **成本预算**：芯片价格、开发成本
- **开发支持**：文档、例程、社区生态
- **供货稳定**：供应链可靠性

#### 6. MCU开发技术栈

**硬件层**：
- 电路设计（原理图、PCB）
- 电源管理、信号完整性
- 电磁兼容设计

**软件层**：

```
裸机开发：基于寄存器/HAL库
    ↓
RTOS：FreeRTOS、RT-Thread、μC/OS
    ↓
中间件：文件系统、网络协议栈、GUI
    ↓
应用逻辑：业务功能实现
```

**工具链**：
- IDE：Keil、IAR、Eclipse-based
- 编译器：GCC、Arm Compiler
- 调试器：J-Link、ST-Link、DAP-Link

